{"name":"Docker-chef-solo","tagline":"Basic Docker Image with Chef-Solo installed","body":"Docker Chef solo\r\n================\r\n\r\nBasic Docker Image with Chef-Solo installed\r\n\r\nwarning under development there be dragons here\r\n\r\n## Example usage\r\n\r\nMake a docker file that starts with a FROM statements like this:\r\n\r\n```\r\nFROM joshuacox/docker-chef-solo:wheezy\r\n```\r\n\r\nThe important parts you need to customize are the chef specific files especially roles, \r\n\r\nYou’ll then need to include the chef stuff in your Dockerfile, here is an example of what you need to put in your dockerfile to make use of this base container\r\n```\r\nCOPY ./Berksfile /Berksfile\r\nCOPY ./chef/roles /var/chef/roles\r\nCOPY ./chef/solo.rb /var/chef/solo.rb\r\nCOPY ./chef/solo.json /var/chef/solo.json\r\n```\r\n\r\nThen you’ll need to tell Docker to execute chef solo to execute your above additions\r\n```\r\nRUN cd / && /opt/chef/embedded/bin/berks vendor /var/chef/cookbooks\r\nRUN chef-solo -c /var/chef/solo.rb -j /var/chef/solo.json\r\n```\r\n\r\nthen you’ll need to start your app using supervisor or S6 or similar here is an example of a typical supervisord starting apache:\r\n```\r\nRUN easy_install supervisor\r\nRUN echo \"foo....\"\r\nCOPY ./start.sh /start.sh\r\nCOPY ./foreground.sh /etc/apache2/foreground.sh\r\nCOPY ./supervisord.conf /etc/supervisord.conf\r\n\r\nRUN chmod 755 /start.sh /etc/apache2/foreground.sh\r\nEXPOSE 80\r\nCMD [\"/bin/bash\", \"/start.sh\"]\r\n```\r\n\r\nYou will find examples of all the above files in this directory\r\n","google":"UA-69335315-1","note":"Don't delete this file! It's used internally to help with page regeneration."}